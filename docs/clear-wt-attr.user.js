// ==UserScript==
// @name        WME Clear WT Attributes
// @version     1.0.0.1636117378633
// @author      r0den
// @match       https://*.waze.com/*editor*
// @match       https://waze.com/*editor*
// @downloadURL https://davidsl4.github.io/WMEScripts/clear-wt-attr.user.js
// ==/UserScript==

function a0_0x42e4(_0x4a5867,_0x28c692){const _0x718a42=a0_0x718a();return a0_0x42e4=function(_0x42e451,_0x311641){_0x42e451=_0x42e451-0x14b;let _0x35649e=_0x718a42[_0x42e451];return _0x35649e;},a0_0x42e4(_0x4a5867,_0x28c692);}function a0_0x718a(){const _0x25af87=['ref','hasOwnProperty','action-button\x20waze-btn\x20waze-btn-smaller\x20waze-btn-white\x20disabled-events','append','querySelector','getRegion','body','startsWith','map','selectionManager','7702335gfkDYK','substring','getAffectedUniqueIds','proxyMethod','generateDescription','data-original-title','attributes','length','getFocusFeatures','1208wAyBtu','label','Clear\x20unusued\x20attributes\x20on\x20','from','\x20segments','children','div','WME\x20loaded','app','boolean','model','segment','4081016hWWsAR','addEventListener','prototype','64tfFyts','appendJsxTo','placement','add','log','jsxCreateElement','current','tooltip','isArray','loading','editRegion','1000hdHCqM','type','sidebarLayout','_description','string','Waze/Action/MultiAction','Clear\x20unusued\x20attributes','keys','246115vWUbic','splice','toLowerCase','segments','10IaypPG','data-placement','1456830otdGML','17360ifkZoM','1470pljMLO','roadType','concat','selectionchanged','wmeTooltip','events','function','apply','refKey','17647498KYjuJT','require'];a0_0x718a=function(){return _0x25af87;};return a0_0x718a();}(function(_0x5e5462,_0x40daf7){const _0x522d7=a0_0x42e4,_0x2ad4d8=_0x5e5462();while(!![]){try{const _0x11af78=parseInt(_0x522d7(0x18c))/0x1*(-parseInt(_0x522d7(0x172))/0x2)+-parseInt(_0x522d7(0x152))/0x3+-parseInt(_0x522d7(0x181))/0x4*(parseInt(_0x522d7(0x14c))/0x5)+parseInt(_0x522d7(0x154))/0x6*(-parseInt(_0x522d7(0x153))/0x7)+parseInt(_0x522d7(0x17e))/0x8+parseInt(_0x522d7(0x169))/0x9*(parseInt(_0x522d7(0x150))/0xa)+parseInt(_0x522d7(0x15d))/0xb;if(_0x11af78===_0x40daf7)break;else _0x2ad4d8['push'](_0x2ad4d8['shift']());}catch(_0x585270){_0x2ad4d8['push'](_0x2ad4d8['shift']());}}}(a0_0x718a,0x7686a),((()=>{'use strict';const _0xecca4a=a0_0x42e4;const _0x11f4d5=()=>{const _0x2957bc=a0_0x42e4,_0x55df75=unsafeWindow[_0x2957bc(0x15e)]('Waze/Action/UpdateObject'),_0x458e5a=unsafeWindow[_0x2957bc(0x15e)](_0x2957bc(0x191));Object['assign'](window,{'ClearWTAttributes':class extends _0x458e5a{constructor(_0x530f9e){const _0x54b614=_0x2957bc;super(_0x530f9e[_0x54b614(0x167)](_0x3c1de4=>new _0x55df75(_0x3c1de4,{'restrictions':[]}))),this[_0x54b614(0x14f)]=_0x530f9e;}[_0x2957bc(0x16b)](){const _0x508ccb=_0x2957bc;return this[_0x508ccb(0x14f)]['map'](_0x18fc91=>_0x18fc91['getUniqueID']());}[_0x2957bc(0x171)](){const _0x41d789=_0x2957bc;return this[_0x41d789(0x14f)];}[_0x2957bc(0x16d)](){const _0x3137b4=_0x2957bc;this[_0x3137b4(0x18f)]=_0x3137b4(0x174)+this['segments'][_0x3137b4(0x170)]+_0x3137b4(0x176);}}});};function _0x373c55({selected:_0x5d15db}){const _0x45190e=a0_0x42e4;0x0!==_0x5d15db[_0x45190e(0x170)]&&_0x5d15db['every'](_0x4f629f=>{const _0x1fee8a=_0x45190e;return _0x1fee8a(0x17d)===(_0x36b188=_0x4f629f[_0x1fee8a(0x17c)])[_0x1fee8a(0x18d)]&&(0x5===_0x36b188['attributes'][_0x1fee8a(0x155)]||0xa===_0x36b188[_0x1fee8a(0x16f)][_0x1fee8a(0x155)]||0x10===_0x36b188[_0x1fee8a(0x16f)]['roadType']);var _0x36b188;})&&((()=>{const _0x9ba86d=_0x45190e,_0x19d564=unsafeWindow['W'][_0x9ba86d(0x17a)]['layout'][_0x9ba86d(0x18e)][_0x9ba86d(0x164)](_0x9ba86d(0x18b))['el'][_0x9ba86d(0x163)]('div.form-group.more-actions');appendJsxTo(_0x19d564,jsxCreateElement('fragment',null,jsxCreateElement(_0x9ba86d(0x178),{'className':'edit-house-numbers-btn-wrapper'},jsxCreateElement('button',{'className':_0x9ba86d(0x161),'onClick':()=>{const _0x39714d=_0x9ba86d;unsafeWindow['W'][_0x39714d(0x17c)]['actionManager'][_0x39714d(0x184)](new ClearWTAttributes(_0x5d15db[_0x39714d(0x167)](_0x5997b2=>_0x5997b2[_0x39714d(0x17c)])));}},_0x9ba86d(0x192)))));})());}window['proxy']=function(_0xc060c7,_0x23cabb,_0x50f05e,_0x3d94d2,_0x2a5857){const _0x33b5e9=a0_0x42e4;let _0x47d234=_0xc060c7[_0x23cabb];_0xc060c7[_0x23cabb]=window[_0x33b5e9(0x16c)](_0x47d234,_0x50f05e,_0x3d94d2,_0x2a5857);},window['proxyMethod']=function(_0x4df59f,_0x315e69,_0x33d242,_0x3ebccf){return function(){const _0x516fd8=a0_0x42e4;let _0x22663e=!0x1,_0x47afe0=null,_0x124f9e=(_0x233709,_0x555718)=>(_0x22663e||(_0x47afe0=_0x4df59f[_0x516fd8(0x15b)](_0x233709,_0x555718),_0x22663e=!0x0),_0x47afe0);_0x33d242&&_0x124f9e(this,arguments);let _0x46b8b4=_0x315e69[_0x516fd8(0x15b)](this,_0x3ebccf?[function(){return _0x124f9e(this,arguments);}['bind'](this),...Array[_0x516fd8(0x175)](arguments)]:arguments);return _0x22663e?_0x46b8b4:void 0x0===_0x46b8b4?_0x124f9e(this,arguments):Array[_0x516fd8(0x189)](_0x46b8b4)?_0x124f9e(this,_0x46b8b4):_0x46b8b4;};},window[_0xecca4a(0x182)]=(_0x256fa4,_0x61b852)=>Array['isArray'](_0x61b852)?_0x256fa4[_0xecca4a(0x162)]['apply'](_0x256fa4,_0x61b852):_0x256fa4[_0xecca4a(0x162)](_0x61b852),window[_0xecca4a(0x186)]=(_0x1ce8d0,_0x54170a,..._0x4096b2)=>{const _0x13c0c7=_0xecca4a;if(_0x13c0c7(0x15a)==typeof _0x1ce8d0)return _0x54170a||(_0x54170a={}),_0x54170a[_0x13c0c7(0x177)]=_0x4096b2,_0x1ce8d0(_0x54170a);let _0x5147a9=null,_0x300d83=null,_0x5dc612=null;const _0x1025df={};let _0x3b8619=!0x1;_0x54170a&&(_0x54170a[_0x13c0c7(0x160)](_0x13c0c7(0x15f))&&(_0x5147a9=_0x54170a[_0x13c0c7(0x15f)],delete _0x54170a[_0x13c0c7(0x15f)]),_0x54170a[_0x13c0c7(0x160)](_0x13c0c7(0x15c))&&(_0x300d83=_0x54170a[_0x13c0c7(0x15c)],delete _0x54170a[_0x13c0c7(0x15c)]),_0x54170a[_0x13c0c7(0x160)](_0x13c0c7(0x180))&&(_0x5dc612=_0x54170a[_0x13c0c7(0x180)],delete _0x54170a[_0x13c0c7(0x180)]),_0x54170a[_0x13c0c7(0x160)](_0x13c0c7(0x158))&&(_0x13c0c7(0x190)==typeof _0x54170a['wmeTooltip']&&(_0x54170a[_0x13c0c7(0x16e)]=_0x54170a['wmeTooltip']),_0x13c0c7(0x17b)!=typeof _0x54170a[_0x13c0c7(0x158)]&&(_0x54170a[_0x13c0c7(0x158)][_0x13c0c7(0x160)]('placement')&&(_0x54170a[_0x13c0c7(0x151)]=_0x54170a[_0x13c0c7(0x158)][_0x13c0c7(0x183)]),_0x54170a[_0x13c0c7(0x16e)]=_0x54170a['wmeTooltip'][_0x13c0c7(0x173)]),_0x3b8619=!!_0x54170a['wmeTooltip'],delete _0x54170a[_0x13c0c7(0x158)]),Object[_0x13c0c7(0x14b)](_0x54170a)['forEach'](_0x550c18=>{const _0x110dd1=_0x13c0c7;if(_0x550c18[_0x110dd1(0x166)]('on')){const _0x35875d=_0x550c18[_0x110dd1(0x16a)](0x2,0x3)[_0x110dd1(0x14e)]()+_0x550c18[_0x110dd1(0x16a)](0x3);_0x1025df[_0x35875d]=_0x54170a[_0x550c18],delete _0x54170a[_0x550c18];}}));const _0x106a4e=_0x4096b2['reduce']((_0x63149c,_0x14eb50)=>(Array[_0x13c0c7(0x189)](_0x14eb50),_0x63149c[_0x13c0c7(0x156)](_0x14eb50)),[]);let _0x24a2d9=unsafeWindow[_0x13c0c7(0x186)](_0x1ce8d0,_0x54170a,..._0x106a4e);if(_0x5147a9&&(_0x5147a9[_0x300d83||_0x13c0c7(0x187)]=_0x24a2d9),_0x5dc612){for(let _0x392f2a in _0x5dc612)_0x5dc612[_0x13c0c7(0x160)](_0x392f2a)&&(_0x24a2d9[_0x392f2a]=_0x5dc612[_0x392f2a]);}if(Object[_0x13c0c7(0x14b)](_0x1025df)[_0x13c0c7(0x170)]>0x0){for(let _0x24debc in _0x1025df)_0x1025df[_0x13c0c7(0x160)](_0x24debc)&&_0x24a2d9[_0x13c0c7(0x17f)](_0x24debc,_0x1025df[_0x24debc]);}return _0x3b8619&&tooltip(_0x24a2d9),_0x24a2d9;},window[_0xecca4a(0x188)]=_0x17111a=>unsafeWindow['$'](_0x17111a)[_0xecca4a(0x188)]({'container':_0xecca4a(0x165)}),((async()=>{const _0x3919a5=_0xecca4a;for(proxy(console,_0x3919a5(0x185),function(){const _0x3e89db=_0x3919a5,_0xc72f61='[Clear\x20WT\x20Attributes]\x20';let _0x5c66b1=Array[_0x3e89db(0x175)](arguments);return _0x5c66b1['length']>0x0&&'string'==typeof _0x5c66b1[0x0]?_0x5c66b1[0x0]=_0xc72f61+_0x5c66b1[0x0]:_0x5c66b1[_0x3e89db(0x14d)](0x0,0x0,_0xc72f61),_0x5c66b1;}),console[_0x3919a5(0x185)]('Waiting\x20for\x20WME\x20to\x20load');!unsafeWindow['hasOwnProperty'](_0x3919a5(0x15e))||!unsafeWindow['W']||!unsafeWindow['W']['app']||unsafeWindow['W']['app'][_0x3919a5(0x16f)][_0x3919a5(0x18a)];)await new Promise(_0x4101a0=>setTimeout(_0x4101a0,0x64));await new Promise(_0x3d4520=>setTimeout(_0x3d4520,0xc8)),console[_0x3919a5(0x185)](_0x3919a5(0x179)),_0x11f4d5(),unsafeWindow['W'][_0x3919a5(0x168)][_0x3919a5(0x159)]['on'](_0x3919a5(0x157),_0x373c55);})());})()));
