// ==UserScript==
// @name        WME Remove WT Attributes
// @version     1.0.0.1636117913274
// @author      r0den
// @match       https://*.waze.com/*editor*
// @match       https://waze.com/*editor*
// @downloadURL https://davidsl4.github.io/WMEScripts/clear-wt-attr.user.js
// ==/UserScript==

function a0_0x3114(){const _0x551ead=['_description','editRegion','require','getFocusFeatures','selectionchanged','add','hasOwnProperty','generateDescription','append','Removed\x20unusued\x20attributes\x20on\x20','div.form-group.more-actions','current','model','608270IBMTAl','484514OgjnLx','reduce','roadType','appendJsxTo','getAffectedUniqueIds','map','proxyMethod','85625ONFcVB','concat','segments','string','querySelector','8uZFwEr','getUniqueID','bind','329800Thiiiw','forEach','prototype','data-original-title','4130301BuaPVq','toLowerCase','[Clear\x20WT\x20Attributes]\x20','463650Aleouo','sidebarLayout','addEventListener','apply','label','refKey','attributes','assign','body','Waze/Action/UpdateObject','log','placement','button','tooltip','27Vtrpry','1807848eiyxvK','4guvIjE','div','substring','boolean','length','keys','children','selectionManager','WME\x20loaded','wmeTooltip','ref','jsxCreateElement','from','actionManager','proxy','Waze/Action/MultiAction','loading','app','events','getRegion','edit-house-numbers-btn-wrapper','every','isArray','segment','function','Waiting\x20for\x20WME\x20to\x20load'];a0_0x3114=function(){return _0x551ead;};return a0_0x3114();}function a0_0x4664(_0x5cd239,_0x212e51){const _0x31146d=a0_0x3114();return a0_0x4664=function(_0x466465,_0x174ad2){_0x466465=_0x466465-0xef;let _0x227754=_0x31146d[_0x466465];return _0x227754;},a0_0x4664(_0x5cd239,_0x212e51);}(function(_0x49eafc,_0x4b8393){const _0x1e3537=a0_0x4664,_0x3e221f=_0x49eafc();while(!![]){try{const _0x499165=parseInt(_0x1e3537(0xef))/0x1+-parseInt(_0x1e3537(0x12e))/0x2+-parseInt(_0x1e3537(0x105))/0x3+parseInt(_0x1e3537(0x106))/0x4*(parseInt(_0x1e3537(0x135))/0x5)+parseInt(_0x1e3537(0xf6))/0x6+parseInt(_0x1e3537(0xf3))/0x7*(parseInt(_0x1e3537(0x13a))/0x8)+-parseInt(_0x1e3537(0x104))/0x9*(-parseInt(_0x1e3537(0x12d))/0xa);if(_0x499165===_0x4b8393)break;else _0x3e221f['push'](_0x3e221f['shift']());}catch(_0x366e5f){_0x3e221f['push'](_0x3e221f['shift']());}}}(a0_0x3114,0x55e6b),((()=>{'use strict';const _0x4ee626=a0_0x4664;const _0x39d4c4=()=>{const _0x54abf0=a0_0x4664,_0x59b5d6=unsafeWindow[_0x54abf0(0x122)](_0x54abf0(0xff)),_0x49c32f=unsafeWindow[_0x54abf0(0x122)](_0x54abf0(0x115));Object[_0x54abf0(0xfd)](window,{'ClearWTAttributes':class extends _0x49c32f{constructor(_0x32bf57){const _0x34610=_0x54abf0;super(_0x32bf57[_0x34610(0x133)](_0x107e88=>new _0x59b5d6(_0x107e88,{'restrictions':[]}))),this['segments']=_0x32bf57;}[_0x54abf0(0x132)](){const _0x36c125=_0x54abf0;return this[_0x36c125(0x137)][_0x36c125(0x133)](_0x5b4f36=>_0x5b4f36[_0x36c125(0x13b)]());}[_0x54abf0(0x123)](){const _0x194260=_0x54abf0;return this[_0x194260(0x137)];}[_0x54abf0(0x127)](){const _0x15fed5=_0x54abf0;this[_0x15fed5(0x120)]=_0x15fed5(0x129)+this[_0x15fed5(0x137)][_0x15fed5(0x10a)]+'\x20segments';}}});};function _0x4aa34a({selected:_0x2ec1df}){const _0x192829=a0_0x4664;0x0!==_0x2ec1df[_0x192829(0x10a)]&&_0x2ec1df[_0x192829(0x11b)](_0x247e9d=>{const _0x417b0e=_0x192829;return _0x417b0e(0x11d)===(_0x32a854=_0x247e9d[_0x417b0e(0x12c)])['type']&&(0x5===_0x32a854['attributes'][_0x417b0e(0x130)]||0xa===_0x32a854[_0x417b0e(0xfc)]['roadType']||0x10===_0x32a854[_0x417b0e(0xfc)]['roadType']);var _0x32a854;})&&((()=>{const _0x5dc5ce=_0x192829,_0x4fcc0f=unsafeWindow['W'][_0x5dc5ce(0x117)]['layout'][_0x5dc5ce(0xf7)][_0x5dc5ce(0x119)](_0x5dc5ce(0x121))['el'][_0x5dc5ce(0x139)](_0x5dc5ce(0x12a));appendJsxTo(_0x4fcc0f,jsxCreateElement('fragment',null,jsxCreateElement(_0x5dc5ce(0x107),{'className':_0x5dc5ce(0x11a)},jsxCreateElement(_0x5dc5ce(0x102),{'className':'action-button\x20waze-btn\x20waze-btn-smaller\x20waze-btn-white\x20disabled-events','onClick':()=>{const _0xf61f25=_0x5dc5ce;unsafeWindow['W'][_0xf61f25(0x12c)][_0xf61f25(0x113)][_0xf61f25(0x125)](new ClearWTAttributes(_0x2ec1df[_0xf61f25(0x133)](_0x1b055e=>_0x1b055e[_0xf61f25(0x12c)])));}},'Remove\x20unusued\x20attributes'))));})());}window[_0x4ee626(0x114)]=function(_0x2a82a4,_0x4ba659,_0x188aba,_0x439b26,_0x2ba574){let _0x24e6d0=_0x2a82a4[_0x4ba659];_0x2a82a4[_0x4ba659]=window['proxyMethod'](_0x24e6d0,_0x188aba,_0x439b26,_0x2ba574);},window[_0x4ee626(0x134)]=function(_0x523f38,_0x25a9c7,_0x462480,_0x2815b7){return function(){const _0x53fde7=a0_0x4664;let _0x3abfb0=!0x1,_0x5a19df=null,_0x1f3fc4=(_0x211654,_0x30ec07)=>(_0x3abfb0||(_0x5a19df=_0x523f38[_0x53fde7(0xf9)](_0x211654,_0x30ec07),_0x3abfb0=!0x0),_0x5a19df);_0x462480&&_0x1f3fc4(this,arguments);let _0x41a150=_0x25a9c7[_0x53fde7(0xf9)](this,_0x2815b7?[function(){return _0x1f3fc4(this,arguments);}[_0x53fde7(0x13c)](this),...Array['from'](arguments)]:arguments);return _0x3abfb0?_0x41a150:void 0x0===_0x41a150?_0x1f3fc4(this,arguments):Array[_0x53fde7(0x11c)](_0x41a150)?_0x1f3fc4(this,_0x41a150):_0x41a150;};},window[_0x4ee626(0x131)]=(_0x15c363,_0x4cb67f)=>Array[_0x4ee626(0x11c)](_0x4cb67f)?_0x15c363[_0x4ee626(0x128)]['apply'](_0x15c363,_0x4cb67f):_0x15c363[_0x4ee626(0x128)](_0x4cb67f),window[_0x4ee626(0x111)]=(_0x383281,_0x19492b,..._0x415cd5)=>{const _0x19eb79=_0x4ee626;if(_0x19eb79(0x11e)==typeof _0x383281)return _0x19492b||(_0x19492b={}),_0x19492b[_0x19eb79(0x10c)]=_0x415cd5,_0x383281(_0x19492b);let _0x181d84=null,_0x1ec090=null,_0x2a0ad2=null;const _0x59bb0c={};let _0x4bd04f=!0x1;_0x19492b&&(_0x19492b[_0x19eb79(0x126)](_0x19eb79(0x110))&&(_0x181d84=_0x19492b['ref'],delete _0x19492b[_0x19eb79(0x110)]),_0x19492b['hasOwnProperty']('refKey')&&(_0x1ec090=_0x19492b[_0x19eb79(0xfb)],delete _0x19492b[_0x19eb79(0xfb)]),_0x19492b[_0x19eb79(0x126)](_0x19eb79(0xf1))&&(_0x2a0ad2=_0x19492b[_0x19eb79(0xf1)],delete _0x19492b[_0x19eb79(0xf1)]),_0x19492b[_0x19eb79(0x126)](_0x19eb79(0x10f))&&(_0x19eb79(0x138)==typeof _0x19492b['wmeTooltip']&&(_0x19492b[_0x19eb79(0xf2)]=_0x19492b['wmeTooltip']),_0x19eb79(0x109)!=typeof _0x19492b[_0x19eb79(0x10f)]&&(_0x19492b['wmeTooltip'][_0x19eb79(0x126)](_0x19eb79(0x101))&&(_0x19492b['data-placement']=_0x19492b[_0x19eb79(0x10f)][_0x19eb79(0x101)]),_0x19492b['data-original-title']=_0x19492b[_0x19eb79(0x10f)][_0x19eb79(0xfa)]),_0x4bd04f=!!_0x19492b[_0x19eb79(0x10f)],delete _0x19492b['wmeTooltip']),Object[_0x19eb79(0x10b)](_0x19492b)[_0x19eb79(0xf0)](_0x2dd6c5=>{const _0x74d5ec=_0x19eb79;if(_0x2dd6c5['startsWith']('on')){const _0x1b02b3=_0x2dd6c5['substring'](0x2,0x3)[_0x74d5ec(0xf4)]()+_0x2dd6c5[_0x74d5ec(0x108)](0x3);_0x59bb0c[_0x1b02b3]=_0x19492b[_0x2dd6c5],delete _0x19492b[_0x2dd6c5];}}));const _0x1d1769=_0x415cd5[_0x19eb79(0x12f)]((_0x42f2a9,_0x2e5b12)=>(Array[_0x19eb79(0x11c)](_0x2e5b12),_0x42f2a9[_0x19eb79(0x136)](_0x2e5b12)),[]);let _0x13ccbc=unsafeWindow['jsxCreateElement'](_0x383281,_0x19492b,..._0x1d1769);if(_0x181d84&&(_0x181d84[_0x1ec090||_0x19eb79(0x12b)]=_0x13ccbc),_0x2a0ad2){for(let _0x56607f in _0x2a0ad2)_0x2a0ad2[_0x19eb79(0x126)](_0x56607f)&&(_0x13ccbc[_0x56607f]=_0x2a0ad2[_0x56607f]);}if(Object[_0x19eb79(0x10b)](_0x59bb0c)[_0x19eb79(0x10a)]>0x0){for(let _0x5694b9 in _0x59bb0c)_0x59bb0c[_0x19eb79(0x126)](_0x5694b9)&&_0x13ccbc[_0x19eb79(0xf8)](_0x5694b9,_0x59bb0c[_0x5694b9]);}return _0x4bd04f&&tooltip(_0x13ccbc),_0x13ccbc;},window[_0x4ee626(0x103)]=_0x2bbef6=>unsafeWindow['$'](_0x2bbef6)[_0x4ee626(0x103)]({'container':_0x4ee626(0xfe)}),((async()=>{const _0x2027a4=_0x4ee626;for(proxy(console,_0x2027a4(0x100),function(){const _0x35b2a3=_0x2027a4,_0x53dae9=_0x35b2a3(0xf5);let _0x119131=Array[_0x35b2a3(0x112)](arguments);return _0x119131[_0x35b2a3(0x10a)]>0x0&&_0x35b2a3(0x138)==typeof _0x119131[0x0]?_0x119131[0x0]=_0x53dae9+_0x119131[0x0]:_0x119131['splice'](0x0,0x0,_0x53dae9),_0x119131;}),console[_0x2027a4(0x100)](_0x2027a4(0x11f));!unsafeWindow[_0x2027a4(0x126)](_0x2027a4(0x122))||!unsafeWindow['W']||!unsafeWindow['W'][_0x2027a4(0x117)]||unsafeWindow['W'][_0x2027a4(0x117)][_0x2027a4(0xfc)][_0x2027a4(0x116)];)await new Promise(_0x2498d6=>setTimeout(_0x2498d6,0x64));await new Promise(_0x5f25e2=>setTimeout(_0x5f25e2,0xc8)),console[_0x2027a4(0x100)](_0x2027a4(0x10e)),_0x39d4c4(),unsafeWindow['W'][_0x2027a4(0x10d)][_0x2027a4(0x118)]['on'](_0x2027a4(0x124),_0x4aa34a);})());})()));
