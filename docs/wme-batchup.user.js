// ==UserScript==
// @name WME BatchUp
// @description Bulk edit Waze objects with ease
// @version 0.1.0
// @author r0den
// @match https://*.waze.com/*editor*
// @match https://waze.com/*editor*
// @match https://*.wazestg.com/*editor*
// @connect distributions.crowdin.net
// @grant GM_xmlhttpRequest
// ==/UserScript==

/*! For license information please see wme-bactchup.user.js.LICENSE.txt */
(()=>{var webpackQueues,webpackExports,webpackError,resolveQueue,__webpack_modules__={186:(module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.a(module,(async(__webpack_handle_async_dependencies__,__webpack_async_result__)=>{try{var _getWazeMapEditorWind,_utils_get_wme_window__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(283);function waitForEvent(node,eventName){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Promise.resolve():new Promise((function(resolve){node.addEventListener(eventName,(function(){return resolve(void 0)}),{once:!0})}))}await Promise.all([await(0,_utils_get_wme_window__WEBPACK_IMPORTED_MODULE_0__.B2)().SDK_INITIALIZED,await waitForEvent(document,"wme-initialized",null===(_getWazeMapEditorWind=(0,_utils_get_wme_window__WEBPACK_IMPORTED_MODULE_0__.B2)().W)||void 0===_getWazeMapEditorWind||null===(_getWazeMapEditorWind=_getWazeMapEditorWind.userscripts)||void 0===_getWazeMapEditorWind||null===(_getWazeMapEditorWind=_getWazeMapEditorWind.state)||void 0===_getWazeMapEditorWind?void 0:_getWazeMapEditorWind.isInitialized)]),Promise.resolve().then(__webpack_require__.bind(__webpack_require__,249)).then((function(_ref){return(0,_ref.default)()})),__webpack_async_result__()}catch(e){__webpack_async_result__(e)}}),1)},249:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>bootstrap});var external_window_React_unsafeWindow_React_=__webpack_require__(149),external_window_React_unsafeWindow_React_default=__webpack_require__.n(external_window_React_unsafeWindow_React_),WmeSdkContext=(0,external_window_React_unsafeWindow_React_.createContext)(null);function useWmeSdk(){return(0,external_window_React_unsafeWindow_React_.useContext)(WmeSdkContext)}WmeSdkContext.displayName="WmeSdkContext";var get_wme_window=__webpack_require__(283);const external_window_ReactDOM_unsafeWindow_ReactDOM_namespaceObject=window.ReactDOM||unsafeWindow.ReactDOM;var external_window_ReactDOM_unsafeWindow_ReactDOM_default=__webpack_require__.n(external_window_ReactDOM_unsafeWindow_ReactDOM_namespaceObject);function _slicedToArray(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function WmeScriptTab(props){var wmeSdk=useWmeSdk(),_useState2=_slicedToArray((0,external_window_React_unsafeWindow_React_.useState)(null),2),tabLabelEl=_useState2[0],setTabLabelEl=_useState2[1],_useState4=_slicedToArray((0,external_window_React_unsafeWindow_React_.useState)(null),2),tabPaneEl=_useState4[0],setTabPaneEl=_useState4[1],registerScriptTab=(0,external_window_React_unsafeWindow_React_.useCallback)((function(){if(wmeSdk)return wmeSdk.Sidebar.registerScriptTab();var result=(0,get_wme_window.Se)().registerSidebarTab("kQ97H6JIJrbkidqSQKMQG");return(0,get_wme_window.Se)().waitForElementConnected(result.tabPane).then((function(){return result}))}),[wmeSdk]),unregisterScriptTab=(0,external_window_React_unsafeWindow_React_.useCallback)((function(){if(wmeSdk)return wmeSdk.Sidebar.removeScriptTab();(0,get_wme_window.Se)().removeSidebarTab("kQ97H6JIJrbkidqSQKMQG")}),[wmeSdk]);return(0,external_window_React_unsafeWindow_React_.useEffect)((function(){return registerScriptTab().then((function(_ref){var tabLabel=_ref.tabLabel,tabPane=_ref.tabPane;setTabLabelEl(tabLabel),setTabPaneEl(tabPane)})),function(){unregisterScriptTab()}}),[registerScriptTab,unregisterScriptTab]),React.createElement(React.Fragment,null,tabLabelEl&&(0,external_window_ReactDOM_unsafeWindow_ReactDOM_namespaceObject.createPortal)(props.label,tabLabelEl),tabPaneEl&&(0,external_window_ReactDOM_unsafeWindow_ReactDOM_namespaceObject.createPortal)(props.children,tabPaneEl))}__webpack_require__(889);var useIsomorphicLayoutEffect="undefined"!=typeof window?external_window_React_unsafeWindow_React_.useLayoutEffect:external_window_React_unsafeWindow_React_.useEffect;function useEventCallback(fn){const ref=(0,external_window_React_unsafeWindow_React_.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return useIsomorphicLayoutEffect((()=>{ref.current=fn}),[fn]),(0,external_window_React_unsafeWindow_React_.useCallback)(((...args)=>ref.current(...args)),[ref])}function useWmeSelection_slicedToArray(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function(r,a){if(r){if("string"==typeof r)return useWmeSelection_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?useWmeSelection_arrayLikeToArray(r,a):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useWmeSelection_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var SDK_REPO_MAPPING={bigJunction:function(sdk,id){return sdk.DataModel.BigJunctions.getById({bigJunctionId:id})},city:function(sdk,id){return sdk.DataModel.Cities.getById({cityId:id})},mapComment:function(sdk,id){return sdk.DataModel.MapComments.getById({mapCommentId:id})},node:function(sdk,id){return sdk.DataModel.Nodes.getById({nodeId:id})},segment:function(sdk,id){return sdk.DataModel.Segments.getById({segmentId:id})},venue:function(sdk,id){return sdk.DataModel.Venues.getById({venueId:id})}};function useWmeSelection(objectType){var sdk=useWmeSdk(),_useState2=useWmeSelection_slicedToArray((0,external_window_React_unsafeWindow_React_.useState)([]),2),selectedObjects=_useState2[0],setSelectedObjects=_useState2[1];return function(callback){var sdk=useWmeSdk(),escapedCallback=useEventCallback(callback);(0,external_window_React_unsafeWindow_React_.useEffect)((function(){return sdk?sdk.Events.on({eventName:"wme-selection-changed",eventHandler:escapedCallback}):(0,get_wme_window.q)().selectionManager.addEventListener("selectionchanged",escapedCallback),function(){sdk?sdk.Events.off({eventName:"wme-selection-changed",eventHandler:escapedCallback}):(0,get_wme_window.q)().selectionManager.removeEventListener("selectionchanged",escapedCallback)}}),[escapedCallback,sdk])}((function(){if(sdk){var selection=sdk.Editing.getSelection();return selection?objectType&&objectType!==selection.objectType?setSelectedObjects([]):void setSelectedObjects(function(sdk,selection){var nativeRepository=(0,get_wme_window.q)().model.getRepository(selection.objectType),getSdkObject=SDK_REPO_MAPPING[selection.objectType];return selection.ids.map((function(id){return{nativeObject:(objectId=id,nativeRepository.getObjectById(objectId)),sdkObject:getSdkObject?getSdkObject(sdk,id):null};var objectId}))}(sdk,selection)):setSelectedObjects([])}})),selectedObjects}var wz_intrinsic_element_components_Waze,jsx_runtime=__webpack_require__(70);function camelToDashCase(value){return value.replace(/([A-Z])/g,(capitalLetter=>`-${capitalLetter.toLowerCase()}`))}function attachPropsToDOMElement(element,newProps,oldProps){const modifiedClassName=function(classList,newProps,oldProps){const includeClassNames=newProps.className||newProps.class,excludeClassNames=oldProps.className||oldProps.class,classListTokenSet=new Set(classList),includeClassNamesSet=new Set(includeClassNames?.split?.(" ")??[]),excludeClassNamesSet=new Set(excludeClassNames?.split?.(" ")??[]),classNamesToJoin=[];return classListTokenSet.forEach((token=>{includeClassNamesSet.has(token)?(classNamesToJoin.push(token),includeClassNamesSet.delete(token)):excludeClassNamesSet.has(token)||classNamesToJoin.push(token)})),includeClassNamesSet.forEach((className=>classNamesToJoin.push(className))),classNamesToJoin.join(" ")}(element.classList,newProps,oldProps);modifiedClassName&&(element.className=modifiedClassName),Object.keys(newProps).forEach((propKey=>{if("children"===propKey||"style"===propKey||"ref"===propKey||"class"===propKey||"className"===propKey||"forwardedRef"===propKey)return;const propValue=newProps[propKey];if(propKey.startsWith("on")&&propKey[2]===propKey[2].toUpperCase()){const eventName=propKey.substring(2),normalizedEventName=eventName.charAt(0).toLowerCase()+eventName.substring(1);isEventCoveredByReact(normalizedEventName)||function(element,eventName,eventHandler){const eventsRepository=element.__events||(element.__events={}),registeredEventHandler=eventsRepository[eventName];registeredEventHandler&&element.removeEventListener(eventName,registeredEventHandler);const newEventHandler=function(event){eventHandler?.call(this,event)};eventsRepository[eventName]=newEventHandler,element.addEventListener(eventName,newEventHandler)}(element,normalizedEventName,propValue)}else if(element[propKey]=propValue,"string"==typeof propValue){const attributeName=camelToDashCase(propKey);element.setAttribute(attributeName,propValue)}}))}function isEventCoveredByReact(eventName){if("undefined"==typeof document)return!0;const properEventName=function(eventName){return"doubleclick"===eventName?"dblclick":eventName}(eventName),properEventPropertyName="on"+properEventName;if(properEventPropertyName in document)return!0;const dummyElement=document.createElement("div");return dummyElement.setAttribute(properEventPropertyName,"return;"),"function"==typeof dummyElement[properEventPropertyName]}function mergeRefs(...refs){return newValue=>{refs.forEach((ref=>function(ref,value){if(ref)return"function"==typeof ref?ref(value):void(ref.current=value)}(ref,newValue)))}}function getReactDisplayName(component){return"string"==typeof component?component:"function"==typeof component?component.displayName?component.displayName:component.name?component.name:void 0:component.render?getReactDisplayName(component.render):void 0}function createForwardRef(component){const render=(props,ref)=>(0,external_window_React_unsafeWindow_React_.createElement)(component,{...props,forwardedRef:ref});return render.displayName=getReactDisplayName(component),(0,external_window_React_unsafeWindow_React_.forwardRef)(render)}function createReactComponent(elementTag){const componentName=elementTag.toLowerCase().split("-").map((component=>component.charAt(0).toUpperCase()+component.slice(1))).join("");const ElementComponent=class extends external_window_React_unsafeWindow_React_.Component{componentElement=null;setComponentElement=element=>this.componentElement=element;componentDidMount(){this.componentDidUpdate?.(this.props)}componentDidUpdate(prevProps){this.componentElement&&attachPropsToDOMElement(this.componentElement,this.props,prevProps)}render(){const{children,forwardedRef,style,className,ref,...otherProps}=this.props,slotsContent=new Map,processedProps=Object.keys(otherProps).reduce(((accumulatedProps,propName)=>{const propValue=otherProps[propName];if(0===propName.indexOf("on")&&propName[2]===propName[2].toUpperCase()){const eventName=propName.substring(2).toLowerCase();"undefined"!=typeof document&&isEventCoveredByReact(eventName)&&(accumulatedProps[propName]=propValue)}else if("slot"!==propName.toLowerCase()&&propName.startsWith("slot")&&propName[4]===propName[4].toUpperCase()){const originalSlotName=function(value){return camelToDashCase(value[0].toLowerCase()+value.substring(1))}(propName.substring(4));slotsContent.set(originalSlotName,propValue)}else{const valueType=typeof propValue;"string"!==valueType&&"boolean"!==valueType&&"number"!==valueType||(accumulatedProps[camelToDashCase(propName)]=propValue)}return accumulatedProps}),{}),finalProps={...processedProps,style,ref:mergeRefs(forwardedRef,this.setComponentElement)},elementChildren=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[children,Array.from(slotsContent.keys()).map((slotName=>{const slotValue=slotsContent.get(slotName);return slotValue?external_window_React_unsafeWindow_React_default().cloneElement(slotValue,{...slotValue?.props,slot:slotName}):null}))]});return external_window_React_unsafeWindow_React_default().createElement(elementTag,finalProps,elementChildren)}static get displayName(){return componentName}};return createForwardRef(ElementComponent)}!function(Waze){!function(IntrinsicElements){IntrinsicElements.WzAnchor=createReactComponent("wz-a"),IntrinsicElements.WzAlert=createReactComponent("wz-alert"),IntrinsicElements.WzAlertDismiss=createReactComponent("wz-alert-dismiss"),IntrinsicElements.WzAlertPagination=createReactComponent("wz-alert-pagination"),IntrinsicElements.WzAlertsGroup=createReactComponent("wz-alerts-group"),IntrinsicElements.WzBadge=createReactComponent("wz-badge"),IntrinsicElements.WzButton=createReactComponent("wz-button"),IntrinsicElements.WzCaption=createReactComponent("wz-caption"),IntrinsicElements.WzOverline=createReactComponent("wz-overline"),IntrinsicElements.WzLabel=createReactComponent("wz-label"),IntrinsicElements.WzCard=createReactComponent("wz-card"),IntrinsicElements.WzCheckableChip=createReactComponent("wz-checkable-chip"),IntrinsicElements.WzChipSelect=createReactComponent("wz-chip-select"),IntrinsicElements.WzChipMultiSelect=createReactComponent("wz-chip-multi-select"),IntrinsicElements.WzCheckbox=createReactComponent("wz-checkbox"),IntrinsicElements.WzIcon=createReactComponent("wz-icon"),IntrinsicElements.WzList=createReactComponent("wz-list"),IntrinsicElements.WzListItem=createReactComponent("wz-list-item"),IntrinsicElements.WzSectionHeader=createReactComponent("wz-section-header")}(Waze.IntrinsicElements||(Waze.IntrinsicElements={}))}(wz_intrinsic_element_components_Waze||(wz_intrinsic_element_components_Waze={}));wz_intrinsic_element_components_Waze.IntrinsicElements.WzAnchor;function WzAlert(props){const directAlertProps=function(obj,keysToExtract){const extractedObject={};return keysToExtract.forEach((key=>{extractedObject[key]=obj[key]})),extractedObject}(props,["variant","level","multiline"]);return(0,jsx_runtime.jsx)(wz_intrinsic_element_components_Waze.IntrinsicElements.WzAlert,{...directAlertProps,slotIcon:props.customIcon,slotDismiss:props.dismissText?(0,jsx_runtime.jsx)("span",{children:props.dismissText}):void 0,slotAction:props.actionText?(0,jsx_runtime.jsx)("span",{children:props.actionText}):void 0,onAlertDismissed:props.onDismiss,onActionClicked:props.onAction,children:(0,jsx_runtime.jsx)("div",{className:"sidebar-alert-content",children:props.children})})}wz_intrinsic_element_components_Waze.IntrinsicElements.WzAlertDismiss,wz_intrinsic_element_components_Waze.IntrinsicElements.WzAlertPagination,wz_intrinsic_element_components_Waze.IntrinsicElements.WzAlertsGroup;function supportReactEvents(component){const componentWithEvents=class extends external_window_React_unsafeWindow_React_.Component{handleOnChange=this.createEventHandler("change");handleOnClick=this.createEventHandler("click");elementRef=(0,external_window_React_unsafeWindow_React_.createRef)();constructor(props){super(props)}createEventHandler(eventName){return event=>{const propName=`on${value=eventName,value[0].toUpperCase()+value.slice(1)}`;var value;"function"==typeof this.props[propName]&&this.props[propName]?.(event)}}get elementFromRef(){return this.elementRef.current}componentDidMount(){this.elementFromRef&&(this.elementFromRef.addEventListener("change",this.handleOnChange),this.elementFromRef.addEventListener("click",this.handleOnClick))}componentWillUnmount(){this.elementFromRef&&(this.elementFromRef.removeEventListener("change",this.handleOnChange),this.elementFromRef.removeEventListener("click",this.handleOnClick))}render(){const nonReactiveProps=function(obj,keysToOmit){const keysToOmitSet=new Set(keysToOmit),omittedObject={};return Object.keys(obj).forEach((key=>{keysToOmitSet.has(key)||(omittedObject[key]=obj[key])})),omittedObject}(this.props,["onChange","onClick","children"]);return(0,external_window_React_unsafeWindow_React_.createElement)(component,{ref:mergeRefs(this.elementRef,this.props.forwardedRef),...nonReactiveProps},this.props.children)}};return componentWithEvents.displayName=`WithReactEvents(${getReactDisplayName(component)})`,createForwardRef(componentWithEvents)}const WzButton=supportReactEvents(wz_intrinsic_element_components_Waze.IntrinsicElements.WzButton);supportReactEvents(wz_intrinsic_element_components_Waze.IntrinsicElements.WzCaption),wz_intrinsic_element_components_Waze.IntrinsicElements.WzOverline,wz_intrinsic_element_components_Waze.IntrinsicElements.WzLabel,wz_intrinsic_element_components_Waze.IntrinsicElements.WzCard;wz_intrinsic_element_components_Waze.IntrinsicElements.WzCheckableChip,wz_intrinsic_element_components_Waze.IntrinsicElements.WzChipSelect,wz_intrinsic_element_components_Waze.IntrinsicElements.WzChipMultiSelect,supportReactEvents(wz_intrinsic_element_components_Waze.IntrinsicElements.WzCheckbox),wz_intrinsic_element_components_Waze.IntrinsicElements.WzIcon,wz_intrinsic_element_components_Waze.IntrinsicElements.WzList,supportReactEvents(wz_intrinsic_element_components_Waze.IntrinsicElements.WzListItem);wz_intrinsic_element_components_Waze.IntrinsicElements.WzSectionHeader;function UpdateAddressForm_slicedToArray(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function(r,a){if(r){if("string"==typeof r)return UpdateAddressForm_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?UpdateAddressForm_arrayLikeToArray(r,a):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UpdateAddressForm_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function UpdateAddressForm(props){var sdk=useWmeSdk(),_useState2=UpdateAddressForm_slicedToArray((0,external_window_React_unsafeWindow_React_.useState)(""),2),streetName=_useState2[0],setStreetName=_useState2[1],_useState4=UpdateAddressForm_slicedToArray((0,external_window_React_unsafeWindow_React_.useState)(""),2),cityName=_useState4[0],setCityName=_useState4[1];return React.createElement("div",{className:"form-group"},React.createElement("wz-label",null,"Update Address"),React.createElement("input",{value:streetName,onChange:function(e){return setStreetName(e.target.value)},placeholder:"Street (Leave blank to keep)"}),React.createElement("input",{value:cityName,onChange:function(e){return setCityName(e.target.value)},placeholder:"City (Leave blank to keep)"}),React.createElement(WzButton,{onClick:function(){var streetToStreetMap=new Map;props.venues.forEach((function(venue){var streetId,existingAddress=sdk.DataModel.Venues.getAddress({venueId:venue.id});if(streetToStreetMap.has(existingAddress.street.id))streetId=streetToStreetMap.get(existingAddress.street.id);else{var cityId=cityName?function(cityName,countryId,stateId){var existingCity=sdk.DataModel.Cities.getCity({cityName,countryId,stateId});if(existingCity)return existingCity;sdk.DataModel.Cities.addCity({cityName,countryId,stateId})}(cityName,existingAddress.country.id,existingAddress.state.id).id:existingAddress.city.id;streetId=function(streetName,cityId){var existingStreet=sdk.DataModel.Streets.getStreet({cityId,streetName});return existingStreet||sdk.DataModel.Streets.addStreet({cityId,streetName})}(streetName||existingAddress.street.name,cityId).id,streetToStreetMap.set(existingAddress.street.id,streetId)}sdk.DataModel.Venues.updateAddress({venueId:venue.id,streetId:streetToStreetMap.get(existingAddress.street.id)})}))},size:"sm",color:"text"},"Apply"))}function App(){var selectedVenues=useWmeSelection("venue");return React.createElement(WmeScriptTab,{label:"BatchUp"},!selectedVenues.length&&React.createElement(WzAlert,{level:"page",variant:"tip"},"Select venues to bulk update them"),selectedVenues.length?React.createElement(UpdateAddressForm,{venues:selectedVenues.map((function(venue){return venue.sdkObject}))}):null)}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function bootstrap(){return _bootstrap.apply(this,arguments)}function _bootstrap(){var n;return n=_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:external_window_ReactDOM_unsafeWindow_ReactDOM_default().render(React.createElement(Root,null),document.createElement("div"));case 1:case"end":return _context.stop()}}),_callee)})),_bootstrap=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))},_bootstrap.apply(this,arguments)}function Root(){var wmeSdk=(0,external_window_React_unsafeWindow_React_.useMemo)((function(){var window=(0,get_wme_window.B2)();return"getWmeSdk"in window?window.getWmeSdk({scriptId:"kQ97H6JIJrbkidqSQKMQG",scriptName:"BatchUp"}):null}),[]);return React.createElement(WmeSdkContext.Provider,{value:wmeSdk},React.createElement(App,null))}App.displayName="userscript(".concat("BatchUp",")"),Root.displayName="userscript(".concat("BatchUp",")")},283:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getWazeMapEditorWindow(){return"unsafeWindow"in window?window.unsafeWindow:window}function getW(){return getWazeMapEditorWindow().W}function getUserscriptsApi(){return getW().userscripts}__webpack_require__.d(__webpack_exports__,{B2:()=>getWazeMapEditorWindow,Se:()=>getUserscriptsApi,q:()=>getW})},889:(module,__unused_webpack_exports,__webpack_require__)=>{var reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function(value){return"symbol"==typeof value||function(value){return!!value&&"object"==typeof value}(value)&&"[object Symbol]"==objectToString.call(value)}(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}},462:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var f=__webpack_require__(149),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},70:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(462)},149:module=>{"use strict";module.exports=window.React||unsafeWindow.React}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=queue=>{queue&&queue.d<1&&(queue.d=1,queue.forEach((fn=>fn.r--)),queue.forEach((fn=>fn.r--?fn.r++:fn())))},__webpack_require__.a=(module,body,hasAwait)=>{var queue;hasAwait&&((queue=[]).d=-1);var currentDeps,outerResolve,reject,depQueues=new Set,exports=module.exports,promise=new Promise(((resolve,rej)=>{reject=rej,outerResolve=resolve}));promise[webpackExports]=exports,promise[webpackQueues]=fn=>(queue&&fn(queue),depQueues.forEach(fn),promise.catch((x=>{}))),module.exports=promise,body((deps=>{var fn;currentDeps=(deps=>deps.map((dep=>{if(null!==dep&&"object"==typeof dep){if(dep[webpackQueues])return dep;if(dep.then){var queue=[];queue.d=0,dep.then((r=>{obj[webpackExports]=r,resolveQueue(queue)}),(e=>{obj[webpackError]=e,resolveQueue(queue)}));var obj={};return obj[webpackQueues]=fn=>fn(queue),obj}}var ret={};return ret[webpackQueues]=x=>{},ret[webpackExports]=dep,ret})))(deps);var getResult=()=>currentDeps.map((d=>{if(d[webpackError])throw d[webpackError];return d[webpackExports]})),promise=new Promise((resolve=>{(fn=()=>resolve(getResult)).r=0;var fnQueue=q=>q!==queue&&!depQueues.has(q)&&(depQueues.add(q),q&&!q.d&&(fn.r++,q.push(fn)));currentDeps.map((dep=>dep[webpackQueues](fnQueue)))}));return fn.r?promise:getResult()}),(err=>(err?reject(promise[webpackError]=err):outerResolve(exports),resolveQueue(queue)))),queue&&queue.d<0&&(queue.d=0)},__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})};__webpack_require__(186)})();
